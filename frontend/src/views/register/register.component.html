<div class="register-component">
  <div class="container h-100 text-center">
    <div class="row h-100 justify-content-center align-items-center">
      <form class="col-4">
        <h1 class="h3 mb-3 font-weight-normal">Chat</h1>
        <div class="alert alert-danger" v-if="errorText">{{errorText}}</div>
        <ValidationObserver @submit.prevent="submit()" ref="registerForm" tag="form" v-slot="{ invalid }">
          <ValidationProvider :rules="{required: true}" name="Name" v-slot="{ errors }">
            <div class="form-group">
              <div class="input-group mb-2">
                <div class="input-group-prepend">
                  <div class="input-group-text">
                    <font-awesome-icon icon="signature"></font-awesome-icon>
                  </div>
                </div>
                <input placeholder="Name" class="form-control" type="text" v-model="user.name">
              </div>
              <span class="text-danger" v-for="error in errors">
                {{ error }}
              </span>
            </div>
          </ValidationProvider>
          <ValidationProvider :rules="{required: true, min: 3, max: 20}" name="Username" v-slot="{ errors }">
            <div class="form-group">
              <div class="input-group mb-2">
                <div class="input-group-prepend">
                  <div class="input-group-text">
                    <font-awesome-icon icon="user"></font-awesome-icon>
                  </div>
                </div>
                <input placeholder="Username" class="form-control" type="text" v-model="user.username">
              </div>
              <span class="text-danger" v-for="error in errors">{{ error }}</span>
            </div>
          </ValidationProvider>
          <ValidationProvider :rules="{required: true, email: true}" name="Email" v-slot="{ errors }">
            <div class="form-group">
              <div class="input-group mb-2">
                <div class="input-group-prepend">
                  <div class="input-group-text">
                    <font-awesome-icon icon="envelope"></font-awesome-icon>
                  </div>
                </div>
                <input placeholder="Email" class="form-control" type="email" v-model="user.email">
              </div>
              <span class="text-danger" v-for="error in errors">
                {{ error }}
              </span>
            </div>
          </ValidationProvider>
          <ValidationProvider :rules="{required: true, min: 8}" name="Password" v-slot="{ errors }">
            <div class="form-group">
              <div class="input-group mb-2">
                <div class="input-group-prepend">
                  <div class="input-group-text">
                    <font-awesome-icon icon="key"></font-awesome-icon>
                  </div>
                </div>
                <input placeholder="Password" class="form-control" data-vv-name="password" type="password"
                       v-model="user.password">
              </div>
              <span class="text-danger" v-for="error in errors">{{ error }}</span>
            </div>
          </ValidationProvider>
          <ValidationProvider :rules="{required: true, confirmed: 'Password'}" name="Repeat password"
                              v-slot="{ errors }">
            <div class="form-group">
              <div class="input-group mb-2">
                <div class="input-group-prepend">
                  <div class="input-group-text">
                    <font-awesome-icon icon="key"></font-awesome-icon>
                  </div>
                </div>
                <input placeholder="Repeat password" class="form-control" type="password" v-model="repeatPassword">
              </div>
              <span class="text-danger" v-for="error in errors">
                {{ error }}
              </span>
            </div>
          </ValidationProvider>
          <ValidationProvider :rules="{required: { allowFalse: false }}" name="Accept terms" v-slot="{ errors }">
            <div class="form-group">
              <div class="checkbox mb-3">
                <label>
                  <input type="checkbox" v-model="acceptTerms"> Accept terms and conditions
                </label>
              </div>
            </div>
          </ValidationProvider>
          <button :disabled="invalid" class="btn btn-primary btn-block">
            Register
          </button>
          <div class="mt-2 mb-2">
            <small>
              Do you already have an account?
            </small>
          </div>
          <div class="mt-2 mb-4">
            <div>
              <router-link to="/login">
                Login
              </router-link>
            </div>
          </div>
          <p class="mt-2 mb-2 text-muted">Â© 2019-2020</p>
        </ValidationObserver>
      </form>

    </div>
  </div>
</div>
